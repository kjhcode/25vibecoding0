import streamlit as st
import pandas as pd
import random

# 설정
st.set_page_config(page_title="진로탐색 도우미", page_icon="🎓", layout="centered")

# -------------------------------
# 1. 화려한 첫 화면
# -------------------------------
st.markdown("""
    <h1 style='text-align: center; color: #4B8BBE;'>🌟 진로 선택 맞춤 가이드 🌟</h1>
    <h3 style='text-align: center; color: #306998;'>MBTI 기반 진로 탐색부터 대입 전략까지 한 번에!</h3>
    <div style='text-align: center;'>
        <img src='https://media.giphy.com/media/3ohs4BSacFKI7A717y/giphy.gif' width='300'>
    </div>
    <br>
""", unsafe_allow_html=True)

st.divider()

# -------------------------------
# 2. MBTI 선택
# -------------------------------
mbti_types = [
    "INTJ", "INTP", "ENTJ", "ENTP",
    "INFJ", "INFP", "ENFJ", "ENFP",
    "ISTJ", "ISFJ", "ESTJ", "ESFJ",
    "ISTP", "ISFP", "ESTP", "ESFP"
]

mbti = st.selectbox("당신의 MBTI를 선택하세요:", mbti_types)

# 예시 데이터: MBTI → 직업군
mbti_jobs = {
    "INTJ": ["데이터 과학자", "AI 연구원"],
    "ENFP": ["광고기획자", "브랜드 디자이너"],
    "ISFJ": ["간호사", "사회복지사"],
    "ESTP": ["세일즈 매니저", "스타트업 CEO"],
    "INTP": ["빅데이터 분석가", "IT 컨설턴트"],
    "ENTJ": ["경영전략 컨설턴트", "창업가"],
    "INFJ": ["심리상담사", "기획연구원"],
    "INFP": ["시인", "작가"],
    "ENFJ": ["교육컨설턴트", "NGO 활동가"],
    "ENFP": ["마케팅 디렉터", "브랜딩 전문가"],
    "ISTJ": ["공무원", "회계사"],
    "ESTJ": ["프로젝트 매니저", "생산관리자"],
    "ESFJ": ["사회복지사", "병원코디네이터"],
    "ISTP": ["기계공학자", "항공정비사"],
    "ISFP": ["플로리스트", "공간디자이너"],
    "ESFP": ["이벤트 기획자", "엔터테인먼트 매니저"],
  
}
jobs = mbti_jobs.get(mbti, ["직업 데이터 없음"])

selected_job = st.selectbox(f"{mbti} 유형에게 추천하는 직업군:", jobs)

# -------------------------------
# 3. 직업군 → 관련 학과
# -------------------------------
job_to_majors = {
    "데이터 과학자": ["컴퓨터공학과", "통계학과", "AI학과"],
    "AI 연구원": ["인공지능학과", "소프트웨어학과"],
    "광고기획자": ["광고홍보학과", "시각디자인학과"],
    "브랜드 디자이너": ["산업디자인과", "커뮤니케이션디자인과"],
    "간호사": ["간호학과"],
    "사회복지사": ["사회복지학과"],
    "세일즈 매니저": ["경영학과", "마케팅학과"],
    "스타트업 CEO": ["창업학과", "벤처경영학과"],
    "빅데이터 분석가":["컴퓨터공학과", "통계학과", "데이터사이언스학과", "AI학과"],
    "IT 컨설턴트":["컴퓨터공학과", "소프트웨어학과", "정보시스템학과", "경영정보학과"],
    "경영전략 컨설턴트":["경영학과", "산업공학과", "국제통상학과", "경제학과"],
    "창업가":["경영학과", "창업학과", "벤처경영학과", "산업디자인학과"],
    "심리상담사":["심리학과", "상담심리학과", "사회복지학과"],
    "기획연구원":["정책학과", "행정학과", "경영학과", "경제학과"],
    "시인":["국어국문학과", "문예창작학과"],
    "작가":["국어국문학과", "문예창작학과"],
    "교육컨설턴트":["교육학과", "상담심리학과", "경영학과"],
    "NGO 활동가":["사회복지학과", "국제관계학과", "환경학과"],
    "마케팅 디렉터":["경영학과", "마케팅학과", "광고홍보학과"],
    "브랜딩 전문가":["경영학과", "광고홍보학과", "시각디자인학과"],
    "공무원":["행정학과", "정치외교학과", "법학과"],
    "회계사":["경영학과", "회계학과", "세무학과"],
    "프로젝트 매니저":["경영학과", "산업공학과", "IT경영학과"],
    "생산관리자":["산업공학과", "경영학과", "기계공학과"],
    "사회복지사":["사회복지학과"],
    "병원코디네이터":["간호학과", "보건행정학과"],
    "기계공학자":["기계공학과"],
    "항공정비사":["항공운항학과", "항공정비학과"],
    "플로리스트":["원예학과", "조경학과", "디자인학과"],
    "공간디자이너":["실내건축학과", "공간디자인학과", "산업디자인학과"],
    "이벤트 기획자":["관광학과", "이벤트기획학과", "경영학과"],
    "엔터테인먼트 매니저":["문화콘텐츠학과", "공연예술학과", "경영학과"],
}
majors = job_to_majors.get(selected_job, ["해당 학과 없음"])
selected_major = st.selectbox(f"'{selected_job}'이 되기 위해 추천하는 학과:", majors)

# -------------------------------
# 4. 학과 → 해당 대학 목록
# -------------------------------
major_to_universities = {
    "컴퓨터공학과": ["서울대학교", "카이스트", "포항공대", "고려대학교", "연세대학교"],
    "통계학과": ["서울대학교", "성균관대학교", "한양대학교"],
    "데이터사이언스학과": ["고려대학교", "성균관대학교", "서강대학교"],
    "AI학과": ["KAIST", "UNIST", "서강대학교", "서울대학교"],
    "소프트웨어학과": ["서울대학교", "카이스트", "성균관대학교", "한양대학교", "POSTECH"],
    "정보시스템학과": ["한양대학교", "성균관대학교", "고려대학교"],
    "경영정보학과": ["서울대학교", "연세대학교", "고려대학교"],
    "경영학과": ["서울대학교", "연세대학교", "고려대학교", "서강대학교", "한양대학교"],
    "산업공학과": ["서울대학교", "고려대학교", "한양대학교", "성균관대학교", "포항공대"],
    "국제통상학과": ["한국외국어대학교", "이화여자대학교", "성균관대학교"],
    "경제학과": ["서울대학교", "연세대학교", "고려대학교", "성균관대학교"],
    "창업학과": ["한양대학교", "성균관대학교", "경희대학교", "국민대학교"],
    "벤처경영학과": ["한양대학교", "성균관대학교", "경희대학교", "아주대학교"],
    "심리학과": ["서울대학교", "연세대학교", "고려대학교", "이화여자대학교"],
    "상담심리학과": ["경희대학교", "서울여자대학교", "한국방송통신대학교"],
    "사회복지학과": ["동국대학교", "서울여자대학교", "이화여자대학교", "경희대학교"],
    "정책학과": ["서울대학교", "성균관대학교", "고려대학교"],
    "행정학과": ["서울대학교", "연세대학교", "고려대학교", "성균관대학교"],
    "국어국문학과": ["서울대학교", "연세대학교", "고려대학교", "한양대학교"],
    "문예창작학과": ["한양대학교", "서울예술대학교", "경희대학교"],
    "교육학과": ["서울대학교", "연세대학교", "이화여자대학교", "고려대학교"],
    "국제관계학과": ["서울대학교", "한국외국어대학교", "성균관대학교"],
    "환경학과": ["서울대학교", "한양대학교", "성균관대학교"],
    "마케팅학과": ["연세대학교", "고려대학교", "성균관대학교", "이화여자대학교", "한양대학교"],
    "광고홍보학과": ["이화여자대학교", "중앙대학교", "홍익대학교"],
    "시각디자인학과": ["홍익대학교", "한양대학교", "이화여자대학교", "중앙대학교"],
    "공무원관련학과": ["행정학과", "정치외교학과", "법학과"],
    "회계학과": ["서울대학교", "연세대학교", "고려대학교", "성균관대학교"],
    "세무학과": ["성균관대학교", "한양대학교", "고려대학교"],
    "IT경영학과": ["고려대학교", "성균관대학교", "한양대학교"],
    "간호학과": ["서울대학교", "고려대학교", "한양대학교"],
    "보건행정학과": ["가천대학교", "가톨릭대학교", "성균관대학교"],
    "기계공학과": ["서울대학교", "카이스트", "포항공대", "고려대학교", "한양대학교"],
    "항공운항학과": ["인하대학교", "한국항공대학교", "한서대학교"],
    "항공정비학과": ["한국항공대학교", "한서대학교", "인하대학교"],
    "원예학과": ["서울대학교", "경상대학교", "전북대학교"],
    "조경학과": ["서울대학교", "한양대학교", "경희대학교"],
    "디자인학과": ["홍익대학교", "한양대학교", "이화여자대학교"],
    "실내건축학과": ["홍익대학교", "성균관대학교", "국민대학교"],
    "공간디자인학과": ["중앙대학교", "홍익대학교", "동덕여자대학교"],
    "관광학과": ["세종대학교", "경희대학교", "한양대학교"],
    "이벤트기획학과": ["경희대학교", "세종대학교", "한양대학교"],
    "문화콘텐츠학과": ["성균관대학교", "한국예술종합학교", "중앙대학교"],
    "공연예술학과": ["한양대학교", "중앙대학교", "한국예술종합학교"],
}
universities = major_to_universities.get(selected_major, ["대학 정보 없음"])
st.write(f"🎓 `{selected_major}` 가 개설된 대학:")
st.markdown(" - " + "\n - ".join(universities))

# -------------------------------
# 5. 추천 도서
# -------------------------------
recommended_books = {
    "컴퓨터공학과": ["『코드』 - 찰스 페촙", "『인공지능의 미래』 - 닉 보스트롬", "『생각하는 기계』 - 루크 도멧"],
    "소프트웨어학과": ["『클린 코드』 - 로버트 C. 마틴", "『파이썬으로 배우는 알고리즘 트레이딩』", "『디버깅 이노베이션』"],
    "AI학과": ["『슈퍼 인텔리전스』 - 닉 보스트롬", "『AI 2041』 - 리카이푸", "『지능의 탄생』 - 제프 호킨스"],
    "데이터사이언스학과": ["『빅데이터, 인공지능을 말하다』", "『데이터 과학 입문』", "『신뢰할 수 있는 AI』"],
    "통계학과": ["『통계란 무엇인가』", "『세상에서 가장 재미있는 통계학』", "『베이지안 통계학 입문』"],
    "정보시스템학과": ["『Information Systems Today』", "『시스템 사고』 - 피터 센게", "『디지털 전환의 핵심』"],
    "경영정보학과": ["『IT와 비즈니스 전략』", "『스마트 비즈니스』", "『경영정보시스템』"],
    "경영학과": ["『경영학 콘서트』", "『하버드 상위 1퍼센트의 비밀』", "『전략적 사고』"],
    "마케팅학과": ["『마케팅 불변의 법칙』", "『소비자 행동의 이해』", "『Hooked』 - 니르 에얄"],
    "창업학과": ["『린 스타트업』 - 에릭 리스", "『제로 투 원』 - 피터 틸", "『스타트업 바이블』"],
    "벤처경영학과": ["『실리콘밸리의 철학자』", "『The Hard Thing About Hard Things』", "『비즈니스 모델 제너레이션』"],
    "심리학과": ["『프로이트 심리학 입문』", "『성격의 탄생』", "『심리학이 이렇게 쓸모 있을 줄이야』"],
    "상담심리학과": ["『상담심리학의 이론과 실제』", "『나는 네가 듣고 싶어 하는 말을 하지 않는다』", "『상처받지 않는 영혼』"],
    "사회복지학과": ["『복지국가』", "『사회복지학 개론』", "『나, 사회복지사』"],
    "정책학과": ["『정책의 탄생』", "『공공정책의 이해』", "『국가는 무엇을 해야 하는가』"],
    "행정학과": ["『정부는 왜 실패하는가』", "『행정학개론』", "『관료제와 민주주의』"],
    "공무원관련학과": ["『헌법의 풍경』", "『대한민국 행정법』", "『정치란 무엇인가』"],
    "회계학과": ["『회계학 콘서트』", "『돈의 감각』", "『재무제표가 만만해지는 책』"],
    "세무학과": ["『세금이 세상을 바꾼다』", "『쉽게 배우는 세법』", "『국세청은 어떻게 일하나』"],
    "IT경영학과": ["『디지털 트랜스포메이션 시대의 IT 경영』", "『디지털 경제와 경영 전략』"],
    "간호학과": ["『나는 간호사 사람입니다』", "『병원이라는 사찰』", "『간호사를 위한 임상 매뉴얼』"],
    "보건행정학과": ["『보건행정학 개론』", "『의료 정책의 이해』", "『병원경영학』"],
    "기계공학과": ["『기계는 어떻게 움직이는가』", "『인간과 기계의 미래』", "『메커니즘 디자인』"],
    "항공운항학과": ["『파일럿의 세계』", "『나는 기장입니다』", "『비행의 원리』"],
    "항공정비학과": ["『항공정비 기술사』", "『항공기 시스템』", "『정비 매뉴얼과 항공법』"],
    "원예학과": ["『식물은 알고 있다』", "『정원의 미학』", "『식물의 사생활』"],
    "조경학과": ["『조경의 역사』", "『친환경 조경 디자인』", "『경관설계의 이해』"],
    "디자인학과": ["『디자인의 디자인』 - 하라 켄야", "『좋은 디자인 나쁜 디자인』", "『시각을 설계하라』"],
    "실내건축학과": ["『공간의 심리학』", "『인테리어 디자인 입문』", "『실내 건축 기초』"],
    "공간디자인학과": ["『공간이 사람을 만든다』", "『사람을 위한 공간 디자인』", "『감성 공간 디자인』"],
    "관광학과": ["『관광학의 이해』", "『관광 트렌드 2025』", "『스마트 관광 시대』"],
    "이벤트기획학과": ["『이벤트 플래닝』", "『축제와 이벤트』", "『브랜드 이벤트 전략』"],
    "문화콘텐츠학과": ["『콘텐츠의 미래』", "『스토리텔링의 기술』", "『한류 콘텐츠의 세계화』"],
    "공연예술학과": ["『무대 뒤의 이야기』", "『연기학 개론』", "『공연예술의 이해』"],
    "광고홍보학과": ["『브랜드가 되어라』", "『컨셉 잡는 법』", "『광고 천재 이제석』"],
    "시각디자인학과": ["『그래픽 디자인의 역사』", "『디자인 불변의 법칙』", "『컬러 앤 디자인』"],
    "국어국문학과": ["『국어의 탄생』", "『우리말 어원 사전』", "『한국 현대문학사』"],
    "문예창작학과": ["『시를 잊은 그대에게』", "『작가 수업』", "『소설을 쓰고 싶다면』"],
    "교육학과": ["『좋은 수업 나쁜 수업』", "『교사는 무엇으로 사는가』", "『교육학 개론』"],
    "국제관계학과": ["『국제정치의 이해』", "『글로벌 거버넌스』", "『지정학의 힘』"],
    "환경학과": ["『기후 위기와 생태 전환』", "『지구의 정원사』", "『지속가능한 환경학』"]
}

books = recommended_books.get(selected_major, ["관련 추천 도서 없음"])
st.markdown(f"📚 `{selected_major}` 전공 추천 도서:")
st.markdown(" - " + "\n - ".join(books))

# -------------------------------
# 6. 2025 대입 컨트라인
# -------------------------------
cutlines = {
    "서울대학교 컴퓨터공학과": {"수능 백분위": 98, "학생부 종합": "1.1", "논술전형": "없음"},
    "카이스트 AI학과": {"수능": "미실시", "학생부 종합": "1.4", "특기자 전형": "우수 이과 경시 수상자"},
    "중앙대학교 광고홍보학과": {"수능": 91, "학생부 종합": "2.3"},
}
key = f"{universities[0]} {selected_major}"
info = cutlines.get(key, {"정보 없음": "해당 자료 없음"})
st.markdown(f"📊 `{key}` 2025학년도 대입 컨트라인 예측:")
for k, v in info.items():
    st.write(f"- {k}: {v}")
